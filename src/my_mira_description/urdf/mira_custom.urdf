<?xml version="1.0"?>
<robot name="mira">

    <material name="green">
        <color rgba="0 0.8 0 1"/>
    </material>
    <material name="red">
        <color rgba="1 0 0 1"/>
    </material>
    <material name="blue">
        <color rgba="0 0 1 1"/>
    </material>

    <link name="base_link">
        <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
            <cylinder radius="0.06" length="0.09"/>
        </geometry>
        </visual>
    </link>
  
    <link name="roll_M1_link">
        <visual>
        <!--aqui solo estamos girando la figura para darle otra orientacion-->
            <origin rpy="0 1.5708 0" xyz="0 0 0"/>
            <geometry>
                <cylinder radius="0.005" length="0.01"/>
            </geometry>
            <material name="red"/>
        </visual>
    </link>
<!-- 0.105 es la suma de 0.09/2 + 0.6 que es la mitad del diametro de la cabz
        en el link es mejor no poner el xyz en el origen pq esto lo que provocara es un ofset al 
        realizar el joint.
        En el joint cuando ponemos el origen toma las cordenadas a partir del parent y el joint se fija al inicio
        del hijo-->
    <joint name="roll_joint" type="revolute">
        <parent link="base_link"/>
        <child link="roll_M1_link"/>
        <origin xyz="0 0 0.105" rpy="0 0 0"/>
        <limit lower="-0.4" upper="0.4" effort="0.1" velocity="0.005"/>
        <axis xyz="1 0 0"/>
    </joint>

    <link name="pitch_M2_link">
        <visual>
            <origin rpy="1.5708 0 0" xyz="0 0 0"/>
            <geometry>
                <cylinder radius="0.005" length="0.01"/>
            </geometry>
            <material name="green"/>
        </visual>
    </link>

    <joint name="pitch_joint" type="revolute">
        <parent link="base_link"/>
        <child link="pitch_M2_link"/>
        <origin xyz="0 0 0.105" rpy="0 0 0"/>
        <limit lower="-0.4" upper="0.4" effort="0.1" velocity="0.005"/>
        <axis xyz="0 1 0"/>
    </joint>

    

    <link name="yaw_M3_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <cylinder radius="0.005" length="0.01"/>
            </geometry>
            <material name="blue"/>
        </visual>
    </link>

    <joint name="yaw_joint" type="revolute">
        <parent link="base_link"/>
        <child link="yaw_M3_link"/>
        <origin xyz="0 0 0.105" rpy="0 0 0"/>
        <limit lower="-0.4" upper="0.4" effort="0.1" velocity="0.005"/>
        <axis xyz="0 0 1"/>
    </joint>

    <link name="head_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <sphere radius="0.06"/>
            </geometry>
            <material name="green"/>
        </visual>
    </link>

    <joint name="base_head_join" type="fixed">
        <parent link="yaw_M3_link"/>
        <child link="head_link"/>
    </joint>

    <link name="left_eye_link">
        <visual>
            <origin rpy="0 1.5708 0" xyz="0.06 -0.01 0"/>
            <geometry>
                <cylinder radius="0.00525" length="0.00525"/>
            </geometry>
            <material name="red"/>
        </visual>
    </link>

    <joint name="left_eye_join" type="fixed">
        <parent link="head_link"/>
        <child link="left_eye_link"/>
    </joint>

    <link name="right_eye_link">
        <visual>
            <origin rpy="0 1.5708 0" xyz="0.06 0.01 0"/>
            <geometry>
                <cylinder radius="0.00525" length="0.00525"/>
            </geometry>
            <material name="red"/>
        </visual>
    </link>

    <joint name="rigth_eye_join" type="fixed">
        <parent link="head_link"/>
        <child link="right_eye_link"/>
    </joint>


  
</robot>